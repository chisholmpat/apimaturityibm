<div class="row special-row">
	<div class="col-md-4">
		<div class="panel panel-default panel-height">
			<div class="panel-heading panel-grad-head">
				<h4 class="h4-panel">Survey Builder</h4>
			</div>
			<div class="panel-body">
				<table st-table="displayedCollection" st-safe-src="builderCtrl.templates" class="table table.responsive table-hover">
					<thead class="thead">
						<tr colspan="1" >
							<th st-sort="name" style="width:33%">Templates ({{builderCtrl.templates.length}})</th>
							<th>
								<input st-search placeholder="Search" class="input-sm form-control" type="search"/>
							</th>
							<th style="width:5%">
								<button type="button" class="btn btn-default btn-sm" ng-click="builderCtrl.toggleModal()">
									<span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
								</button>
							</th>
						</tr>
					</thead>
					<tbody>
						<tr ng-repeat="template in displayedCollection" ng-click="builderCtrl.selectTemplate(template)">
							<td>{{template.name}}</td>
							<td></td>
							<td style="text-align:right;"">
								<button class="btn btn-danger btn-sm" ng-click="builderCtrl.deleteTemplate(template)">
									<span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
								</button>
							</td>
						</tr>
					</tbody>
					<tfoot>
						<tr>
							<td colspan="3">
								<div st-pagination="" st-items-by-page="10" st-displayed-pages="5"></div>
							</td>
						</tr>
					</tfoot>
				</table>
			</div>
		</div>
	</div>

	<div class="col-md-8">
		<div class="panel panel-default">
			<div class="panel-heading panel-grad-head">
				<h4 class="h4-panel">Preview: {{builderCtrl.template.name}}</h4>
				<span class="h4-panel">Created on {{builderCtrl.template.created  | date: format: short}}</span>
			</div>
			<div class="panel-body">
				<button class="btn btn-default btn-md" ng-click="builderCtrl.selectTemplate(builderCtrl.template); builderCtrl.setInfo();" ui-sref="formEditor">
					Edit <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
				</button>	
				<hr/>
				 <h4 class="text-primary"><strong>{{builderCtrl.template.name}}</strong></h4>
				<div class="col-md-12 content-shadow">
					<ul class="list-group list-special">
						<li class="list-group-item">
							<strong>Forms:</strong> {{builderCtrl.fCount}}, <strong>Questions:</strong> {{builderCtrl.qCount}}
						</li>
						<li class="list-group-item">
							<strong>Description: </strong> {{builderCtrl.template.description}}
						</li>
					</ul>
					<div class="content-shadow" style="height:400px;overflow-y:auto">
					<ul class="list-group list-survey" ng-repeat="form in builderCtrl.template.assessment" ng-if="builderCtrl.currentId==form._id" style="width:100%">
							<li class="list-group-item list-group-item-survey" style="width:100%;">
								<h4 id="top">Form: {{form.name}}</h4>
								<hr class="row"/>
								<div class="list-group" style="width:100%">
									<h4 class="text-primary">Self Assessment Questions</h4>
									<ul class="list-group-item list-group-item-survey" ng-repeat="(question, q) in form.questions" ng-if="form.questions[question].category === 'Self-Assessment'">
										<li class="list-group-item list-group-item-survey" style="margin-top:1%;padding: 0%;width:100%">
											<div class="media">
												<div class="media-left">
													<span class="glyphicon glyphicon-asterisk" aria-hidden="true">
													</span>
												</div>
												<div class="media-body">
													<p class="media-heading question-text">{{q.question}}</p>
												</div>
											</div>
										</li>
									</ul>
									<hr>
								</div>
								<div class="list group" style="margin-top:1.5%">
									<div class="text-primary split-form"><h4>Quality Assessment Questions</h4></div>
									<ul class="list-group-item list-group-item-survey" ng-repeat="(question, q) in form.questions" ng-if="form.questions[question].category === 'Quantitative-Assessment'">
										<li class="list-group-item list-group-item-survey" style="margin-top:1%;padding: 0%;width:100%">
											<div class="media">
												<div class="media-left">
													<span class="glyphicon glyphicon-asterisk" aria-hidden="true">
													</span>
												</div>
												<div class="media-body">
													<p class="media-heading question-text">{{q.question}}</p>
												</div>
											</div>
										</li>
									</ul>
								</div>
							</li>
						</ul>
						<div>
							<button class="btn btn-default btn-md"  ng-click="builderCtrl.prev()" ng-disabled="preCtrl.checkMin()">
								<span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span> Previous 
							</button>	
							<button class="btn btn-default btn-md" ng-click="builderCtrl.next()" ng-disabled="preCtrl.checkMax()" style="float:right">
								Next <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
							</button>	
						</div>
						<div>
							<hr>
							<uib-progressbar max="builderCtrl.max" value="builderCtrl.formIndex+1"><span style="color:white; white-space:nowrap;">Form: {{builderCtrl.formIndex+1}} / {{builderCtrl.max}}</span></uib-progressbar>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
</div>





<!-- <div class="container" style="margin-top:1%;">
	<div class=row>
		<div class="col-md-4">
			<div class="panel panel-default">
				<div class="panel-heading panel-grad-head">
					<h4 class="h4-panel">{{builderCtrl.getCurrentUser().name}}'s Templates ({{builderCtrl.templates.length}})</h4>
				</div>
				<div class="panel-body">
					<button class="btn btn-default btn-md"  ng-click="builderCtrl.toggleModal()">
					Add Template <span class="glyphicon glyphicon-file" aria-hidden="true"></span>
					</button>	
					<hr>
					<table class="table table.responsive table-hover table-striped" >
						<thead class="thead">
							<tr>
								<th>Templates</th>
								<th style="text-align:right;"></th>
							</tr>
						</thead>
						<tbody>
							<tr ng-repeat="template in builderCtrl.templates" ng-click="builderCtrl.selectTemplate(template)">
								<td><a>{{template.name}}</a></td>
								<td style="text-align:right;">
									<button class="btn btn-danger btn-md" ng-click="builderCtrl.deleteTemplate(template)">
										<span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
									</button>
								</td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>
		</div>

		<div class="col-md-8">
			<div class="panel panel-default">
				<div class="panel-heading panel-grad-head">
					<h4 class="h4-panel">{{builderCtrl.template.name}}</h4>
				</div>
				<div class="panel-body">
					<div>
						<button class="btn btn-default btn-md" ng-click="builderCtrl.selectTemplate(builderCtrl.template); builderCtrl.setInfo();" ui-sref="formEditor">
							Edit <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
						</button>	
						<button type="button" class="btn btn-default btn-md" ng-click="builderCtrl.setInfo()" ui-sref="preview">
							Preview <span class="glyphicon glyphicon-file" aria-hidden="true"></span>
						</button>
					</div>
					<hr>
					<div>
						<ul class="list-group">
							<li class="list-group-item">
								<strong>Created on:</strong> {{builderCtrl.template.created | date: format: short}}
							</li>
							<li class="list-group-item">
								<strong>Form Groups:</strong> {{builderCtrl.fCount}}
							</li>
							<li class="list-group-item">
								<strong>Questions:</strong> {{builderCtrl.qCount}}
							</li>
							<li class="list-group-item">
								<strong>Description:</strong> {{builderCtrl.template.description}}
							</li>
						</ul>
					</div>
				</div>
			</div>
		</div>
	</div>
</div> -->