<div class="row special-row" style="margin-top:1%;">
  <div class="container">
  <div class="panel panel-default">
    <div class="panel-heading panel-grad-head">
      <h4 class="h4-panel">Account Settings</h4>
    </div>
    <div class="panel-body">

      <div class="col-md-6">
    <h4 class="text-primary">User: {{vm.userCopy.name}}</h4>
    <div>
      <strong class="text-muted">Details</strong>
      <ul class="list-group list-special">
        <li class="list-group-item">
          <strong>Joined: </strong> {{vm.userCopy.created | date: short}}
        </li>
        <li class="list-group-item">
          <strong>E-mail address: </strong> {{vm.userCopy.email}}
        </li>
        <li class="list-group-item">
          <strong>First name: </strong> {{vm.userCopy.firstName}}
        </li>
        <li class="list-group-item">
          <strong>Last name: </strong> {{vm.userCopy.lastName}}
        </li>
        <li class="list-group-item">
          <strong>Clients: </strong> {{vm.userCopy.clients.length}}
        </li>
        <li class="list-group-item">
          <strong>Templates: </strong> {{vm.userCopy.assessmentTemplates.length}}
        </li>
      </ul>
    </div>
  </div>
      <div class="col-md-6">
      <h4 class="text-primary">Password Settings</h4>
      <div class="content-shadow">
        <form class="form" name="form" ng-submit="vm.changePassword(form)" novalidate>

          <div class="form-group" ng-class="{ 'has-success': form.password.$valid && vm.submitted,
                                            'has-error': form.password.$invalid && vm.submitted }">
            <label>Current Password</label>
            <input type="password" autocomplete="nope" name="password" class="form-control" ng-model="vm.user.oldPassword"
            mongoose-error/>
            <p class="help-block" ng-show="form.password.$error.mongoose">
              {{ vm.other }}
            </p>
          </div>

          <div class="form-group" ng-class="{ 'has-success': form.newPassword.$valid && vm.submitted,
                                            'has-error': form.newPassword.$invalid && vm.submitted }">
            <label>New Password</label>
            <input type="password" autocomplete="nope" name="newPassword" class="form-control" ng-model="vm.user.newPassword"
            ng-minlength="3"
            required/>
            <p class="help-block"
            ng-show="(form.newPassword.$error.minlength || form.newPassword.$error.required) && vm.submitted">
            Password must be at least 3 characters.
          </p>
        </div>

        <div class="form-group" ng-class="{ 'has-success': form.confirmPassword.$valid && vm.submitted,
                                            'has-error': form.confirmPassword.$invalid && vm.submitted }">
          <label>Confirm New Password</label>
          <input type="password" autocomplete="nope" name="confirmPassword" class="form-control" ng-model="vm.user.confirmPassword" 
          ng-pattern="vm.user.newPassword"
          ng-minlength="3"
          required=""/>
          <p class="help-block"
          ng-show="form.confirmPassword.$error.pattern && vm.submitted">
          Passwords must match.
        </p>
      </div>
      <p class="help-block" style="color:green"> {{ vm.message }} </p>
    </form>
    <button class="btn btn-default btn-sm"  ng-click="vm.changePassword(form)">Save changes</button>
    </div>
  </div>
</div>
</div>
</div>
</div>
